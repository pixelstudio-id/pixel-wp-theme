// This styling is applied to Gutenberg editor
@import "@lib/helpers"
@import "@lib/colors"
@import "@lib/vars"

// Fixed-width on blog wrapper
body.post-type-post
  .editor-styles-wrapper
    --wp--style--global--content-size: 750px
    --contentSize: 750px

  .editor-styles-wrapper .edit-post-visual-editor__post-title-wrapper > :where(:not(.alignleft):not(.alignright):not(.alignfull)),
  .editor-styles-wrapper .block-editor-block-list__layout.is-root-container > :where(:not(.alignleft):not(.alignright):not(.alignfull))
    max-width: var(--wp--style--global--content-size)

  .alignfull
    max-width: calc(var(--wp--style--global--content-size) + 4rem) !important
    margin-right: auto
    margin-left: auto
  .alignfull.has-background
    border-radius: var(--gRadius)

///// BUTTON

div.editor-styles-wrapper .wp-block-buttons
  --bgColor: var(--main)
  --textColor: var(--baseInv)

div.editor-styles-wrapper .wp-block-button__link
  background-color: var(--bgColor)
  border-radius: var(--gRadius)
  text-transform: uppercase
  font-weight: var(--hFontWeight)
  font-size: var(--sFontSize)
  letter-spacing: 0.025em
  color: var(--textColor)

.wp-block-button__link
  .is-style-outline &
    border: 2px solid currentColor


    &:not(:hover)
      background-color: transparent !important


///// HEADING

[data-type="core/heading"]
  // <strong> in heading become thin instead
  strong
    font-weight: var(--fontWeight)

///// MEDIA TEXT

.wp-block-media-text.alignfull
  .wp-block-media-text__content
    padding-right: 1.5rem
  &.has-media-on-the-right .wp-block-media-text__content
    padding-left: 1.5rem
    padding-right: 0

///// EMBEDS

// Hide all except Embed, Youtube, and Twitter
.block-editor-inserter__panel-content [aria-label="Embeds"]
  > div:nth-child(n+2)
    display: none

.wp-block-image.is-style-px-thumbnail-wide,
.wp-block-image.is-style-px-thumbnail-tall
  position: relative
  height: 0

  .components-resizable-box__side-handle
    display: none

  > div
    position: static !important

  > div > img
    +absolute-fill
    width: 100%
    height: 100%
    object-fit: cover
    object-position: center center

  figcaption
    display: block
    overflow-y: hidden
    background-image: linear-gradient( 0deg, rgba(black,.7), rgba(black,.5) 50%,transparent)
    grid-column: none

    position: absolute
    z-index: 2
    left: 0
    bottom: 0
    right: 0
    
    width: 100%
    max-height: 75%
    padding: 1rem
    margin: 0
    border: none

    font-size: var(--sFontSize)
    text-align: left
    color: white
    
    @media ($below-s)
      font-size: 0 // hide the description
  
  strong
    display: block
    font-size: var(--mFontSize)
    font-family: var(--hFontFamily)


.editor-styles-wrapper
  .wp-block-image.is-style-px-thumbnail-wide
    padding-bottom: calc(var(--contentSize) / 2)

  .wp-block-image.is-style-px-thumbnail-tall
    padding-bottom: var(--contentSize)
    max-width: calc(var(--contentSize) / 2)